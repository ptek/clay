#!/usr/bin/env ruby
$:.unshift File.join(File.dirname(__FILE__), *%w[.. src]) # add ../src dir to the path of required modules

require 'rubygems'
require 'goo'

usage = <<HELP
USAGE:
  $ goo <command>
  
COMMANDS:
  init    - creates a directory structure for the project
  build   - builds the projects and creates the set of resulting static pages
  serve   - starts a local server
HELP

command = ARGV[0]
case command
  when "init" then 
    if ARGV[1].nil?
      puts "USAGE:\n $goo init <site_name> "
    else
      Goo.init ARGV[1]
    end
  when "build" then Goo.build
  when "serve" then Goo.serve
  when "version" then puts "goo " + Goo::VERSION
  else puts usage
end
